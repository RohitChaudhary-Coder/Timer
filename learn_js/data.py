a=[{"id":11,"tabId":"Authentication","tabTitle":"Authentication","title":"Basic Authentication Flow","body":"This is a sample flow to verify users, secure APIs using Basic Authentication mechanism.","flow":[{"id":"bd2bf6c.51ef208","type":"http in","z":"b4262737.97fce8","name":"","url":"/employees","method":"post","upload":false,"swaggerDoc":"","x":160,"y":540,"wires":[["2fd52cb3.6af724"]]},{"id":"2fd52cb3.6af724","type":"basic","z":"b4262737.97fce8","name":"","basicconfig":"","outputs":2,"x":370,"y":540,"wires":[["5495d6e1.d01888"],["b650f59a.6a13f8"]]},{"id":"5495d6e1.d01888","type":"function","z":"b4262737.97fce8","name":"Setting payload","func":"msg.payload = {\n    \"name\" : \"CYber Group Inc.\",\n    \"Domain\" : \"Information Technology & Services\",\n    \"Offices\" : {\n        \"Dallas\" :  \"12900 Preston Road, Ste 900, Dallas, TX, 75230\",\n        \"India\" : \"30/1 Knowledge Park III, Greater Noida\"\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":580,"y":520,"wires":[["f8e67f9d.f7055"]]},{"id":"b650f59a.6a13f8","type":"function","z":"b4262737.97fce8","name":"Setting payload","func":"msg.payload = {\n    \"message\": \"Either username or password is incorrect\"\n}\nreturn msg;","outputs":1,"noerr":0,"x":580,"y":560,"wires":[["804164c5.882c78"]]},{"id":"f8e67f9d.f7055","type":"http response","z":"b4262737.97fce8","name":"","statusCode":"200","headers":{"content-type":"application/json"},"x":860,"y":520,"wires":[]},{"id":"804164c5.882c78","type":"http response","z":"b4262737.97fce8","name":"","statusCode":"401","headers":{"content-type":"application/json"},"x":860,"y":560,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:55:20.979Z","isactive":true},{"id":10,"tabId":"Authentication","tabTitle":"Authentication","title":"Decode JWT sample Flow","body":"This is a Sample flow to demo how you can decode a jwt token using decode Node.","flow":[{"id":"ff8e940e.9ac8a8","type":"inject","z":"b4262737.97fce8","name":"","topic":"","payload":"decode jwt","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":260,"y":280,"wires":[["484e5189.adf14"]]},{"id":"484e5189.adf14","type":"function","z":"b4262737.97fce8","name":"setting jwt as msg.payload","func":"msg.payload = `eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7Im5hbWUiOiJDWWJlciBHcm91cCBJbmMuIiwiRG9tYWluIjoiSW5mb3JtYXRpb24gVGVjaG5vbG9neSAmIFNlcnZpY2VzIiwiT2ZmaWNlcyI6eyJEYWxsYXMiOiIxMjkwMCBQcmVzdG9uIFJvYWQsIFN0ZSA5MDAsIERhbGxhcywgVFgsIDc1MjMwIiwiSW5kaWEiOiIzMC8xIEtub3dsZWRnZSBQYXJrIElJSSwgR3JlYXRlciBOb2lkYSJ9fSwiZXhwIjoxNTk5NzY1NzQwLCJpYXQiOjE1OTk2NzkzNDB9.PgC65loWY1Tkul6SQVH3oI7egMSyxUXKsrhOTOLXK9Y`\nreturn msg;","outputs":1,"noerr":0,"x":520,"y":280,"wires":[["c193b3eb.a674d"]]},{"id":"c193b3eb.a674d","type":"decode","z":"b4262737.97fce8","name":"decoding Jwt","decodetype":"JWT","x":790,"y":280,"wires":[["8b785fbc.0a92d"]]},{"id":"8b785fbc.0a92d","type":"debug","z":"b4262737.97fce8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1030,"y":280,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:55:20.979Z","isactive":true},{"id":8,"tabId":"Authentication","tabTitle":"Authentication","title":"Generate JWT Sample Flow","body":"This is a sample flow to demo how you can create jwt tokens using Ignite-jwt Node.","flow":[{"id":"b00e8b70.565e28","type":"http response","z":"b4262737.97fce8","name":"","statusCode":"","headers":{"content-type":"application/json"},"x":1070,"y":180,"wires":[]},{"id":"1b073ada.789415","type":"function","z":"b4262737.97fce8","name":"Setting jwt as access_token","func":"msg.payload = {\n    \"access_token\" : msg.payload\n}\nreturn msg;","outputs":1,"noerr":0,"x":860,"y":180,"wires":[["b00e8b70.565e28"]]},{"id":"130a83f3.8e223c","type":"jwt","z":"b4262737.97fce8","name":"creating jwt","jwtconfig":"","generatejwt":true,"outputs":1,"x":630,"y":180,"wires":[["1b073ada.789415"]]},{"id":"64c44f62.d96aa","type":"function","z":"b4262737.97fce8","name":"Setting payload to encode","func":"msg.payload = {\n    \"name\" : \"CYber Group Inc.\",\n    \"Domain\" : \"Information Technology & Services\",\n    \"Offices\" : {\n        \"Dallas\" :  \"12900 Preston Road, Ste 900, Dallas, TX, 75230\",\n        \"India\" : \"30/1 Knowledge Park III, Greater Noida\"\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":410,"y":180,"wires":[["130a83f3.8e223c"]]},{"id":"8e9e2fc5.e53a2","type":"http in","z":"b4262737.97fce8","name":"","url":"/jwt/generate","method":"get","upload":false,"swaggerDoc":"","x":170,"y":180,"wires":[["64c44f62.d96aa"]]}],"catalog_version":"v2","updated_at":"2020-12-05T02:55:20.979Z","isactive":true},{"id":9,"tabId":"Authentication","tabTitle":"Authentication","title":"Verify JWT Sample Flow","body":"This is a sample flow to demo how you can verify jwt tokens using Ignite-jwt node coming in requests as bearer token.","flow":[{"id":"25e37b52.bc34e4","type":"http in","z":"b4262737.97fce8","name":"","url":"/jwt/verify","method":"post","upload":false,"swaggerDoc":"","x":160,"y":340,"wires":[["4d884cd1.14e6c4"]]},{"id":"4d884cd1.14e6c4","type":"jwt","z":"b4262737.97fce8","name":"","jwtconfig":"","generatejwt":false,"outputs":2,"x":530,"y":340,"wires":[["44715858.f04698"],["3c4b4e6c.2870c2"]]},{"id":"44715858.f04698","type":"function","z":"b4262737.97fce8","name":"jwt is Intact","func":"msg.payload = {\n    message : \"Jwt is verified\"\n}\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":320,"wires":[["ebd24b17.92a3d8"]]},{"id":"3c4b4e6c.2870c2","type":"function","z":"b4262737.97fce8","name":"Jwt is corrupt","func":"msg.payload = {\n    message : \"Issue with jwt\"\n}\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":360,"wires":[["5c260e48.dc22c"]]},{"id":"5c260e48.dc22c","type":"http response","z":"b4262737.97fce8","name":"","statusCode":"401","headers":{"content-type":"application/json"},"x":1060,"y":360,"wires":[]},{"id":"ebd24b17.92a3d8","type":"http response","z":"b4262737.97fce8","name":"","statusCode":"200","headers":{"content-type":"application/json"},"x":1060,"y":320,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:55:20.979Z","isactive":true},{"id":12,"tabId":"Authentication","tabTitle":"Authentication","title":"OAuth2.0 Authentication Flow","body":"This is a sample flow to verify users, secure APIs using OAuth 2.0 Authentication mechanism.","flow":[{"id":"7c8585c.259b77c","type":"http in","z":"92f79fa3.ab7e5","name":"","url":"/callback","method":"get","upload":false,"swaggerDoc":"","x":190,"y":260,"wires":[["8cf4cb11.c9f518"]]},{"id":"f5657d98.8634e","type":"http response","z":"92f79fa3.ab7e5","name":"","statusCode":"302","headers":{},"x":900,"y":320,"wires":[]},{"id":"742e5ec.d82f9a","type":"http in","z":"92f79fa3.ab7e5","name":"","url":"/login","method":"get","upload":false,"swaggerDoc":"","x":180,"y":120,"wires":[["134b6c07.2754a4"]]},{"id":"1714d1cb.4f4c7e","type":"http response","z":"92f79fa3.ab7e5","name":"http response for success","statusCode":"","headers":{},"x":850,"y":120,"wires":[]},{"id":"134b6c07.2754a4","type":"oauth2","z":"92f79fa3.ab7e5","name":"Azure Ad Login","auth2Config":"","flow":"loginurl","outputlocation":"payload","x":460,"y":120,"wires":[["1714d1cb.4f4c7e"]]},{"id":"8cf4cb11.c9f518","type":"oauth2","z":"92f79fa3.ab7e5","name":"Azure Ad Access Token","auth2Config":"","flow":"gettoken","outputlocation":"payload","x":430,"y":260,"wires":[["fa1d8a4d.43e398"]]},{"id":"50762fa0.4318b","type":"decode","z":"92f79fa3.ab7e5","name":"","decodetype":"JWT","x":900,"y":260,"wires":[["a94bf006.96b5c"]]},{"id":"fa1d8a4d.43e398","type":"function","z":"92f79fa3.ab7e5","name":"access token","func":"msg.payload = msg.payload.token.access_token;\nreturn msg;","outputs":1,"noerr":0,"x":730,"y":260,"wires":[["50762fa0.4318b"]]},{"id":"a94bf006.96b5c","type":"function","z":"92f79fa3.ab7e5","name":"build jwt payload","func":"msg.payload = {\n    \"name\": msg.payload.name,\n    \"email\": msg.payload.upn\n};\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":320,"wires":[["d20b5f02.e80e3"]]},{"id":"d20b5f02.e80e3","type":"jwt","z":"92f79fa3.ab7e5","name":"Gen Jwt","jwtconfig":"","generatejwt":true,"outputs":1,"x":520,"y":320,"wires":[["25b2f873.b33d88"]]},{"id":"25b2f873.b33d88","type":"function","z":"92f79fa3.ab7e5","name":"pass payload for jwt","func":"var id = Date.now() / 1000;\nglobal.set(\"sessionid-\" + id, msg.payload);\nmsg.headers = {\n    Location: \"/token?id=\" + id\n}\nmsg.payload = {};\nreturn msg;","outputs":1,"noerr":0,"x":720,"y":320,"wires":[["f5657d98.8634e"]]},{"id":"3718392f.38eb26","type":"http in","z":"92f79fa3.ab7e5","name":"","url":"/token","method":"post","upload":false,"swaggerDoc":"","x":190,"y":540,"wires":[["364021ff.a6119e"]]},{"id":"fe365499.7b11e8","type":"http response","z":"92f79fa3.ab7e5","name":"","statusCode":"200","headers":{},"x":900,"y":540,"wires":[]},{"id":"364021ff.a6119e","type":"function","z":"92f79fa3.ab7e5","name":"get access token","func":"var accesstoken = global.get(\"sessionid-\" + msg.payload.id);\n//use redis for performance & delete this key once consumed\nglobal.set(\"sessionid-\" + msg.payload.id, null); \nmsg.payload = {\n    \"access_token\" : accesstoken\n};\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":540,"wires":[["fe365499.7b11e8"]]},{"id":"97922d28.afd82","type":"http in","z":"92f79fa3.ab7e5","name":"","url":"/emp","method":"get","upload":false,"swaggerDoc":"","x":180,"y":660,"wires":[["3fe9404e.b207c"]]},{"id":"3fe9404e.b207c","type":"jwt","z":"92f79fa3.ab7e5","name":"validate Jwt","jwtconfig":"","generatejwt":false,"outputs":2,"x":430,"y":660,"wires":[["a00ae0dd.998fb"],["e734c3e3.16ce4"]]},{"id":"29a28904.89be16","type":"http response","z":"92f79fa3.ab7e5","name":"","statusCode":"200","headers":{},"x":900,"y":640,"wires":[]},{"id":"e734c3e3.16ce4","type":"http response","z":"92f79fa3.ab7e5","name":"","statusCode":"401","headers":{},"x":740,"y":680,"wires":[]},{"id":"a00ae0dd.998fb","type":"function","z":"92f79fa3.ab7e5","name":"Response","func":"msg.payload = {\n    \"name\": \"Bruce wayne\",\n    \"character\": \"Batman\"\n};\nreturn msg;","outputs":1,"noerr":0,"x":740,"y":640,"wires":[["29a28904.89be16"]]},{"id":"71f07500.c64d0c","type":"comment","z":"92f79fa3.ab7e5","name":"Endpoint to Initiate login","info":"","x":220,"y":80,"wires":[]},{"id":"215e980f.17e808","type":"comment","z":"92f79fa3.ab7e5","name":"Auth Request to AD","info":"","x":470,"y":80,"wires":[]},{"id":"42e610f7.d7e19","type":"comment","z":"92f79fa3.ab7e5","name":"Calback url for successful login","info":"","x":250,"y":220,"wires":[]},{"id":"6757315e.1bcd8","type":"comment","z":"92f79fa3.ab7e5","name":"http response for successful login","info":"","x":830,"y":80,"wires":[]},{"id":"6f98a6aa.914d48","type":"comment","z":"92f79fa3.ab7e5","name":"Extracting and Decoding Access Token","info":"","x":810,"y":220,"wires":[]},{"id":"74a5489c.8155a8","type":"comment","z":"92f79fa3.ab7e5","name":"endpoint to get user data","info":"","x":230,"y":620,"wires":[]},{"id":"81acc470.7e8ed8","type":"comment","z":"92f79fa3.ab7e5","name":"validating jwt generated by our system","info":"","x":510,"y":620,"wires":[]},{"id":"a557b05f.3e526","type":"comment","z":"92f79fa3.ab7e5","name":"serving data if jwt/user is verified","info":"","x":810,"y":600,"wires":[]},{"id":"d941fde4.15161","type":"comment","z":"92f79fa3.ab7e5","name":"serving 401 if jwt is not verified","info":"","x":810,"y":720,"wires":[]},{"id":"1166e536.0aeceb","type":"comment","z":"92f79fa3.ab7e5","name":"endpoint get access token","info":"","x":230,"y":500,"wires":[]},{"id":"9273ea3c.f78c88","type":"http in","z":"92f79fa3.ab7e5","name":"","url":"/token?:id","method":"get","upload":false,"swaggerDoc":"","x":200,"y":420,"wires":[["4af276e5.fabf78"]]},{"id":"4af276e5.fabf78","type":"http response","z":"92f79fa3.ab7e5","name":"","statusCode":"200","headers":{},"x":900,"y":420,"wires":[]},{"id":"c015a635.93e1b8","type":"comment","z":"92f79fa3.ab7e5","name":"getting access token from AD","info":"","x":520,"y":220,"wires":[]},{"id":"1e2e3ac.d09dac5","type":"comment","z":"92f79fa3.ab7e5","name":"Creating and storing our own jwt so that we can verify it in the subsequent api requests","info":"","x":540,"y":360,"wires":[]},{"id":"d5b3bf75.6bd5","type":"comment","z":"92f79fa3.ab7e5","name":"sending access token with the requested id","info":"","x":580,"y":500,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:55:20.979Z","isactive":true},{"id":1,"tabId":"OData","tabTitle":"OData","title":"OData 4.0 Service","body":"This flow helps you create an OData Service using Ignite-OData and Ignite-Sequelize Nodes.","flow":[{"id":"54294a13.6fccd4","type":"sequelize","z":"a89240a2.a814","name":"Configure database","usepayload":false,"query":"","database":"","output":true,"outputs":1,"x":710,"y":240,"wires":[["98474fba.d3849"]]},{"id":"474ef573.c73fec","type":"http in","z":"a89240a2.a814","name":"","url":"/root/*","method":"get","upload":false,"swaggerDoc":"","x":100,"y":160,"wires":[["281e6c05.50b294"]]},{"id":"281e6c05.50b294","type":"function","z":"a89240a2.a814","name":"users EDM","func":"msg.model = {\n    namespace: \"ignite\",\n    entityTypes: {\n        \"users\": {\n            \"id\": {\"type\": \"Edm.Int32\", \"key\": true},\n            \"name\": {\"type\": \"Edm.String\"},            \n            \"username\": {\"type\": \"Edm.String\"}            \n        }\n    },   \n    entitySets: {\n        \"users\": {\n            entityType: \"ignite.users\"\n        }\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":240,"wires":[["6d6ce4fc.a9378c"]]},{"id":"be75721c.999de","type":"http response","z":"a89240a2.a814","name":"","statusCode":"","headers":{},"x":1110,"y":300,"wires":[]},{"id":"744ac8a5.7d8198","type":"catch","z":"a89240a2.a814","name":"","scope":null,"uncaught":false,"x":520,"y":360,"wires":[["199b07a8.301528"]]},{"id":"199b07a8.301528","type":"function","z":"a89240a2.a814","name":"set err msg","func":"msg.payload = msg.error.message\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":360,"wires":[["be75721c.999de"]]},{"id":"51d79c78.baf384","type":"comment","z":"a89240a2.a814","name":"Setup Endpoints","info":"","x":100,"y":120,"wires":[]},{"id":"108f4ab2.775b65","type":"comment","z":"a89240a2.a814","name":"Setup Entity Data Model","info":"","x":330,"y":200,"wires":[]},{"id":"8432178b.5191b8","type":"comment","z":"a89240a2.a814","name":"Intercept HTTP Request & Call Database with Resolved Statement","info":"Intercept HTTP Request & Call Database with Resolved Statements.","x":700,"y":200,"wires":[]},{"id":"8f2c5037.93629","type":"comment","z":"a89240a2.a814","name":"Respond to HTTP Request","info":"","x":1110,"y":200,"wires":[]},{"id":"6f302ac8.eda184","type":"comment","z":"a89240a2.a814","name":"Catch All Flow Related Errors & Set Payload","info":"","x":690,"y":320,"wires":[]},{"id":"98474fba.d3849","type":"odata out","z":"a89240a2.a814","name":"","x":900,"y":240,"wires":[["be75721c.999de"]]},{"id":"6d6ce4fc.a9378c","type":"odata in","z":"a89240a2.a814","name":"","x":520,"y":240,"wires":[["54294a13.6fccd4"]]},{"id":"578f8652.22a0b8","type":"http in","z":"a89240a2.a814","name":"","url":"/root/*","method":"put","upload":false,"swaggerDoc":"","x":100,"y":200,"wires":[["281e6c05.50b294"]]},{"id":"3a64c46a.a1383c","type":"http in","z":"a89240a2.a814","name":"","url":"/root/*","method":"post","upload":false,"swaggerDoc":"","x":90,"y":240,"wires":[["281e6c05.50b294"]]},{"id":"6b058a0e.72f804","type":"http in","z":"a89240a2.a814","name":"","url":"/root/*","method":"patch","upload":false,"swaggerDoc":"","x":90,"y":280,"wires":[["281e6c05.50b294"]]},{"id":"7f80145e.43650c","type":"http in","z":"a89240a2.a814","name":"","url":"/root/*","method":"delete","upload":false,"swaggerDoc":"","x":90,"y":320,"wires":[["281e6c05.50b294"]]},{"id":"e464b9e5.6c90f8","type":"comment","z":"a89240a2.a814","name":"Help Node, Please read the description section of this node for Flow Information","info":"This Flow Helps you create an OData 4.0 service.\n\nOData Service lets you create REST APIs and exchange data using OData Protocol.\n\nIt has everything you need to get your OData Service up and running.You just need to configure two things.\n\n1.Configure you EDM using the fucntion Node or use EDM Node built inside OData-in node to define your metadata model.\n\n2.Define your database connection inside of sequelize Node.\n\nHit \"Deploy\" and you are good to go!","x":700,"y":80,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:43:02.969Z","isactive":true},{"id":2,"tabId":"OData","tabTitle":"OData","title":"OData 4.0 API - REST API as Source","body":"This flow uses Ignite-sf-commerce nodes to access Salesforce Commerce Cloud APIs.","flow":[{"id":"b1d23b6c.560968","type":"http in","z":"8829890c.34b7d8","name":"","url":"/dataGov/*","method":"get","upload":false,"swaggerDoc":"","x":120,"y":120,"wires":[["a56f442.241f8b8"]]},{"id":"280c8981.1dbef6","type":"odata in","z":"8829890c.34b7d8","name":"Gov Data EDM","edm":"","x":560,"y":120,"wires":[["2a25e568.cc10ea"]]},{"id":"2a25e568.cc10ea","type":"switch","z":"8829890c.34b7d8","name":"req. Metadata?","property":"requested","propertyType":"msg","rules":[{"t":"eq","v":"metadata","vt":"str"},{"t":"else"}],"checkall":"false","repair":false,"outputs":2,"x":560,"y":200,"wires":[["ce7f1198.de79b"],["3a287bbd.abd234"]]},{"id":"ce7f1198.de79b","type":"odata out","z":"8829890c.34b7d8","name":"","x":820,"y":320,"wires":[["e07a8044.780f6"]]},{"id":"3a287bbd.abd234","type":"function","z":"8829890c.34b7d8","name":"request settings","func":"let url = \"\"\nif(msg.requested === \"FuelStations\"){\n    url= \"https://developer.nrel.gov/api/alt-fuel-stations/v1.json?limit=20&api_key=KP4TtQCRUztbU7wLNqeeOLtadIVvTZWMjqdfKslb\"\n}else if(msg.requested === \"Foods\"){\n    url= \"https://api.nal.usda.gov/fdc/v1/foods/list?pageSize=20&api_key=KP4TtQCRUztbU7wLNqeeOLtadIVvTZWMjqdfKslb\"\n}\nmsg.method = \"GET\";\nmsg.url = url;\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":280,"wires":[["c5254c5f.b106d"]]},{"id":"e07a8044.780f6","type":"http response","z":"8829890c.34b7d8","name":"","statusCode":"","headers":{},"x":1010,"y":420,"wires":[]},{"id":"7414be16.550b4","type":"function","z":"8829890c.34b7d8","name":"Tranformation","func":"var response = msg.payload;\nmsg.payload = [];\n\nif(msg.requested === \"FuelStations\"){\n    response = response.fuel_stations;\n    for (var i in response){\n        data = {\n            \"id\": response[i].id,\n            \"station_name\": response[i].station_name,\n            \"fuel_type_code\": response[i].fuel_type_code,\n            \"street_address\": response[i].id,\n            \"city\": response[i].city,\n            \"state\": response[i].state,\n            \"latitude\": response[i].latitude,\n            \"longitude\": response[i].longitude,\n        } \n        msg.payload.push(data)\n    }\n}else if(msg.requested === \"Foods\"){\n    for (var j in response){\n        data = {\n            \"fdcId\": response[j].fdcId,\n            \"description\": response[j].description,\n            \"foodCode\": response[j].foodCode\n        } \n        msg.payload.push(data)\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":560,"y":440,"wires":[["ce7f1198.de79b"]]},{"id":"c5254c5f.b106d","type":"http request","z":"8829890c.34b7d8","name":"govt api request","method":"use","ret":"obj","paytoqs":false,"url":"","tls":"","persist":false,"proxy":"","authType":"","x":560,"y":360,"wires":[["7414be16.550b4"]]},{"id":"da69ad30.f327d","type":"catch","z":"8829890c.34b7d8","name":"","scope":null,"uncaught":false,"x":640,"y":520,"wires":[["5510c6fb.785f18"]]},{"id":"5510c6fb.785f18","type":"function","z":"8829890c.34b7d8","name":"set err msg","func":"msg.payload = msg.error.message\nreturn msg;","outputs":1,"noerr":0,"x":810,"y":520,"wires":[["e07a8044.780f6"]]},{"id":"a56f442.241f8b8","type":"function","z":"8829890c.34b7d8","name":"Gov Data EDM","func":"msg.model = {\n    namespace: \"ignite\",\n    entityTypes: {\n        \"Foods\": {\n            \"fdcid\": {\"type\": \"Edm.String\", \"key\": true},\n            \"description\": {\"type\": \"Edm.String\"},            \n            \"foodcode\": {\"type\": \"Edm.String\"}            \n        },\n        \"FuelStations\": {\n            \"id\": {\"type\": \"Edm.Int32\", \"key\": true},\n            \"station_name\": {\"type\": \"Edm.String\"},            \n            \"fuel_type_code\": {\"type\": \"Edm.String\"},            \n            \"street_address\": {\"type\": \"Edm.String\"},            \n            \"city\": {\"type\": \"Edm.String\"},            \n            \"state\": {\"type\": \"Edm.String\"},            \n            \"latitude\": {\"type\": \"Edm.String\"},            \n            \"longitude\": {\"type\": \"Edm.String\"}            \n        }\n    },   \n    entitySets: {\n        \"Foods\": {\n            entityType: \"ignite.Foods\"\n        },\n        \"FuelStations\": {\n            entityType: \"ignite.FuelStations\"\n        }\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":320,"y":120,"wires":[["280c8981.1dbef6"]]},{"id":"a4fd81db.3b681","type":"comment","z":"8829890c.34b7d8","name":"Setup Entity Data Model","info":"","x":330,"y":80,"wires":[]},{"id":"398aa1c0.e90fee","type":"comment","z":"8829890c.34b7d8","name":"Setup Endpoints","info":"","x":120,"y":80,"wires":[]},{"id":"f0036de5.77afa","type":"comment","z":"8829890c.34b7d8","name":"Diverting Metadata requests","info":"","x":820,"y":200,"wires":[]},{"id":"9898b3fb.49962","type":"comment","z":"8829890c.34b7d8","name":"HTTP request settings & API Call","info":"","x":310,"y":320,"wires":[]},{"id":"afbc8483.8c49c8","type":"comment","z":"8829890c.34b7d8","name":"Data Transformation acc. to model","info":"Transforming data acc to defined entity","x":300,"y":440,"wires":[]},{"id":"f0841154.51c1c","type":"comment","z":"8829890c.34b7d8","name":"Catch All Flow Related Errors & Set Payload","info":"","x":730,"y":560,"wires":[]},{"id":"5d4574d4.ba986c","type":"comment","z":"8829890c.34b7d8","name":"HTTP response to the odata client","info":"Respond to HTTP Request","x":1000,"y":460,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:43:02.969Z","isactive":true},{"id":3,"tabId":"OData","tabTitle":"OData","title":"OData 4.0 API - Multi-Sources","body":"This flow uses Ignite-OData nodes to create an OData Service with multiple data sources as its source.","flow":[{"id":"2a3beb4f.75ddb4","type":"odata in","z":"12873bd2.d80104","name":"","edm":"","x":320,"y":240,"wires":[["e5ddcbba.dc3118","fe5b7a63.7c1f38","1708201a.06305"]]},{"id":"e5ddcbba.dc3118","type":"sequelize","z":"12873bd2.d80104","name":"Product India","usepayload":false,"query":"SELECT * FROM ;","database":"","output":true,"outputs":1,"x":730,"y":240,"wires":[["97ecbd7.ea4ac4"]]},{"id":"fe5b7a63.7c1f38","type":"http request","z":"12873bd2.d80104","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"https://yourappname.herokuapp.com/testapi","tls":"","persist":false,"proxy":"","authType":"","x":570,"y":280,"wires":[["26c413b6.44ecac"]]},{"id":"1708201a.06305","type":"function","z":"12873bd2.d80104","name":"query setting","func":"msg.payload.postgres.replace(\"public\", \"productus\");\nreturn msg","outputs":1,"noerr":0,"x":570,"y":200,"wires":[["72939cba.e01274"]]},{"id":"f50f7e38.c3925","type":"http in","z":"12873bd2.d80104","name":"","url":"/products/*","method":"get","upload":false,"swaggerDoc":"","x":100,"y":240,"wires":[["2a3beb4f.75ddb4"]]},{"id":"97ecbd7.ea4ac4","type":"join","z":"12873bd2.d80104","name":"merging data","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"3","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":990,"y":240,"wires":[["bc7bd3d0.9c72"]]},{"id":"26c413b6.44ecac","type":"json","z":"12873bd2.d80104","name":"","property":"payload","action":"","pretty":false,"x":750,"y":280,"wires":[["97ecbd7.ea4ac4"]]},{"id":"72939cba.e01274","type":"sequelize","z":"12873bd2.d80104","name":"Product US","usepayload":false,"query":"SELECT * FROM ;","database":"","output":true,"outputs":1,"x":730,"y":200,"wires":[["97ecbd7.ea4ac4"]]},{"id":"bc7bd3d0.9c72","type":"function","z":"12873bd2.d80104","name":"Transformation","func":"data = msg.payload\nmsg.payload = [];\nfor(var i in data){\n    for (var j in data[i]){\n        msg.payload.push(data[i][j])\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"x":980,"y":320,"wires":[["39fcfbee.efaab4"]]},{"id":"39fcfbee.efaab4","type":"odata out","z":"12873bd2.d80104","name":"","x":1240,"y":240,"wires":[["ae46ac57.d5469"]]},{"id":"ae46ac57.d5469","type":"http response","z":"12873bd2.d80104","name":"","statusCode":"","headers":{},"x":1250,"y":320,"wires":[]},{"id":"2e64cf74.8f41a","type":"comment","z":"12873bd2.d80104","name":"Setup Endpoint","info":"","x":100,"y":140,"wires":[]},{"id":"f2ca20e5.dd3d9","type":"comment","z":"12873bd2.d80104","name":"Setup Entity Data Model","info":"","x":310,"y":140,"wires":[]},{"id":"ec31ea61.52a548","type":"comment","z":"12873bd2.d80104","name":"Intercept HTTP Request & DB call with Resolved Statement","info":"","x":660,"y":140,"wires":[]},{"id":"3a02a04a.b8c87","type":"comment","z":"12873bd2.d80104","name":"HTTP response to the odata client","info":"Respond to HTTP Request","x":1240,"y":140,"wires":[]},{"id":"bd6eb4d6.fdbd18","type":"comment","z":"12873bd2.d80104","name":"Transformation","info":"Transforming data acc to defined entity","x":980,"y":140,"wires":[]},{"id":"e44a2b54.f56188","type":"comment","z":"12873bd2.d80104","name":"Getting Data from third Source (Rest API)","info":"","x":640,"y":340,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:43:02.969Z","isactive":true},{"id":4,"tabId":"OData","tabTitle":"OData","title":"OData Client","body":"This flow uses Ignite-OData nodes to access OData Complaint REST APIs.","flow":[{"id":"2bbc47d.84b2eb8","type":"debug","z":"e7ae3df5.9ce37","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":870,"y":220,"wires":[]},{"id":"17f92112.e2615f","type":"inject","z":"e7ae3df5.9ce37","name":"","topic":"","payload":"Request","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":220,"wires":[["4aabe91f.f06668"]]},{"id":"4aabe91f.f06668","type":"function","z":"e7ae3df5.9ce37","name":"request setting","func":"msg.reqUrl = \"https://your-app.com/serviceroot/users\";\nmsg.payload = {\n    \"id\": 1,\n    \"name\": \"Ravi\"\n}\nmsg.reqHeaders = {\n    \"authorization\" : \"your custom headers\"\n}\nreturn msg;","outputs":1,"noerr":0,"x":380,"y":220,"wires":[["fc8d92c9.d59b6"]]},{"id":"fc8d92c9.d59b6","type":"odata client","z":"e7ae3df5.9ce37","name":"","method":"GET","rootURL":"","resource":"$metadata","querytop":"","queryskip":"","queryfilter":"","queryorderby":"","queryselect":"","querycount":"","querysearch":"","x":630,"y":220,"wires":[["2bbc47d.84b2eb8"]]},{"id":"c749a0b5.e3bf2","type":"comment","z":"e7ae3df5.9ce37","name":"Initiating Request","info":"","x":140,"y":180,"wires":[]},{"id":"61cdfc13.e41784","type":"comment","z":"e7ae3df5.9ce37","name":"Setting Request Parameters","info":"Note: these parameter can also be provided using OData client Node.","x":380,"y":180,"wires":[]},{"id":"bf74f8c1.b57348","type":"comment","z":"e7ae3df5.9ce37","name":"Logging Output","info":"","x":880,"y":180,"wires":[]},{"id":"a73ca7ba.865d98","type":"comment","z":"e7ae3df5.9ce37","name":"Sending req. to OData Service","info":"","x":640,"y":180,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:43:02.969Z","isactive":true},{"id":7,"tabId":"Salesforce","tabTitle":"Salesforce","title":"Salesforce Commerce Cloud API","body":"This flow demonstrates how to access Salesforce Commerce Cloud APIs inside Ignite using Ignite-sf-commerce nodes.","flow":[{"id":"e5fae910.753698","type":"inject","z":"f8549174.6cca3","name":"","topic":"shopper search","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":120,"y":100,"wires":[["a01ac035.71afb"]]},{"id":"d0e37ae5.5a9dc8","type":"function","z":"f8549174.6cca3","name":"setting search parameters","func":"msg.reqParams = {\n    \"q\": \"ties\",\n    \"siteId\": \"RefArch\"\n}\n\n// msg.reqHeaders = {\n//     \"authorization\": \"Bearer .S*\",\n//     \"content-type\": \"application/json\"\n// }\n\n// msg.payload = {\n//     \"q\": \"ties\",\n//     \"siteId\": \"RefArch\"\n// }\n\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":100,"wires":[["762332fd.c54b7c"]]},{"id":"bc576d12.e1714","type":"inject","z":"f8549174.6cca3","name":"","topic":"shopper products","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":130,"y":260,"wires":[["187a04ad.36ad1b"]]},{"id":"54d50871.6d7ed8","type":"debug","z":"f8549174.6cca3","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":990,"y":260,"wires":[]},{"id":"ee47700d.9c7b","type":"function","z":"f8549174.6cca3","name":"Setting Query parameters","func":"msg.reqParams = {\n    \"ids\": \"029407331289M\",\n    \"siteId\": \"RefArch\"\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":260,"wires":[["10c48552.37776b"]]},{"id":"a01ac035.71afb","type":"configuration","z":"f8549174.6cca3","name":"Configuration","commerceCloud":"","x":330,"y":100,"wires":[["d0e37ae5.5a9dc8"]]},{"id":"187a04ad.36ad1b","type":"configuration","z":"f8549174.6cca3","name":"Configuration","commerceCloud":"","x":330,"y":260,"wires":[["ee47700d.9c7b"]]},{"id":"10c48552.37776b","type":"shopperProducts","z":"f8549174.6cca3","name":"","method":"GET","endpoint":"/organizations/{organizationId}/products","Id":"029407331289M","x":810,"y":260,"wires":[["54d50871.6d7ed8"]]},{"id":"762332fd.c54b7c","type":"shopperSearch","z":"f8549174.6cca3","name":"","method":"GET","endpoint":"/organizations/{organizationId}/product-search","x":800,"y":100,"wires":[["1d6a44ae.996c1b"]]},{"id":"1d6a44ae.996c1b","type":"debug","z":"f8549174.6cca3","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":990,"y":100,"wires":[]},{"id":"da025c5b.1557","type":"gifts","z":"f8549174.6cca3","name":"","method":"GET","endpoint":"/organizations/{organizationId}/gift-certificates","merchantId":"","x":360,"y":1120,"wires":[[]]},{"id":"d1de1fd8.8a759","type":"comment","z":"f8549174.6cca3","name":"Org Config","info":"","x":320,"y":180,"wires":[]},{"id":"3a354d78.d41402","type":"comment","z":"f8549174.6cca3","name":"Initializing Request","info":"","x":110,"y":180,"wires":[]},{"id":"54d5c2f4.bc780c","type":"comment","z":"f8549174.6cca3","name":"Request Parameter Setting","info":"","x":570,"y":180,"wires":[]},{"id":"1226e9a2.f3f646","type":"comment","z":"f8549174.6cca3","name":"api call","info":"","x":810,"y":180,"wires":[]},{"id":"54e4fe5a.1b619","type":"comment","z":"f8549174.6cca3","name":"Logging Output","info":"","x":1000,"y":180,"wires":[]},{"id":"7b203e25.bc5ff","type":"comment","z":"f8549174.6cca3","name":"Salesforce Commerce Cloud Examples","info":"","x":570,"y":40,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:48:56.004Z","isactive":true},{"id":6,"tabId":"Salesforce","tabTitle":"Salesforce","title":"Salesforce CRM CRUD Operations - Salesforce REST API","body":"This flow demonstrates Salesforce CRM CRUD Operations using Salesforce Rest APIs.","flow":[{"id":"596d9d91.600da4","type":"function","z":"452a748d.6197dc","name":"token request settings","func":"msg.method = \"POST\";\nmsg.url = \"https://login.salesforce.com/services/oauth2/token\";\n\nmsg.payload = {\n    \"grant_type\":\"password\",\n    \"client_id\":\"your_connected_app_consumer_key\",\n    \"client_secret\":\"your_connected_app_consumer_secret\",\n    \"username\":\"your_org_username\",\n    \"password\":\"your_org_password\"\n};\n\nmsg.headers = {\n    \"Content-Type\":\"application/x-www-form-urlencoded\",\n    \"Connection\":\"keep-alive\"\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":400,"y":200,"wires":[["23f74280.3d535e"]]},{"id":"23f74280.3d535e","type":"http request","z":"452a748d.6197dc","name":"http request","method":"use","ret":"obj","paytoqs":false,"url":"","tls":"","persist":false,"proxy":"","authType":"","x":370,"y":360,"wires":[["d822b964.ba0158"]]},{"id":"3a9ff880.cf9458","type":"function","z":"452a748d.6197dc","name":"API Parameter Setting","func":"//WAYS TO BUILT URL\n//1. Use soql query to access data\n// myquery =\"SELECT+id,id__c,name__c,email__c,age__c+FROM+customers__c\";\n// url = \"https://ap5.salesforce.com/services/data/v49.0/query/?q=myquery\";\n// url = url.replace(\"myquery\", myquery)\n\n//2. Use Rest API URL\nurl = \"https://ap5.salesforce.com/services/data/v49.0/sobjects/customers__c\";\n\n//3.Access a specific record\n// url = \"https://ap5.salesforce.com/services/data/v49.0/sobjects/customers__c/a0C7F00000Q7RWyUAN\";\n\nheaders = {\n    \"Authorization\": \"Bearer \" + msg.payload.access_token\n};\n\nmsg.headers = headers;\nmsg.method = \"GET\";\nmsg.url = url;\n\nreturn msg;","outputs":1,"noerr":0,"x":680,"y":460,"wires":[["bf13e74d.378e28"]]},{"id":"bf13e74d.378e28","type":"http request","z":"452a748d.6197dc","name":"","method":"use","ret":"obj","paytoqs":false,"url":"","tls":"","persist":false,"proxy":"","authType":"","x":950,"y":460,"wires":[["693f570d.e08908"]]},{"id":"693f570d.e08908","type":"debug","z":"452a748d.6197dc","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1150,"y":500,"wires":[]},{"id":"f3cdc195.01862","type":"inject","z":"452a748d.6197dc","name":"","topic":"Retrieve","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":120,"y":80,"wires":[["596d9d91.600da4"]]},{"id":"68c31ca8.d55e24","type":"function","z":"452a748d.6197dc","name":"API Parameter Setting","func":"url = \"https://ap5.salesforce.com/services/data/v49.0/sobjects/customers__c/a0C7F00000Q7QddUAF\";\n\nheaders = {\n    \"Authorization\": \"Bearer \" + msg.payload.access_token\n};\n\nmsg.method = \"DELETE\";\nmsg.headers = headers;\nmsg.url = url;\n\nreturn msg;","outputs":1,"noerr":0,"x":680,"y":580,"wires":[["d8b12aa2.382e68"]]},{"id":"c56bd81e.b52c98","type":"inject","z":"452a748d.6197dc","name":"","topic":"Delete","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":110,"y":320,"wires":[["596d9d91.600da4"]]},{"id":"c227957b.862738","type":"inject","z":"452a748d.6197dc","name":"","topic":"Update","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":110,"y":240,"wires":[["596d9d91.600da4"]]},{"id":"19ebbf19.dae3f1","type":"function","z":"452a748d.6197dc","name":"API Parameter Setting","func":"url = \"https://ap5.salesforce.com/services/data/v49.0/sobjects/customers__c\";\n\nmsg.payload = {\n    \"Name\": \"Project Ignite\",\n    \"id__c\": 5,\n    \"age__c\": 23,\n    \"name__c\": \"ravi\",\n    \"email__c\": \"ravi.sharma@cygrp.com\"\n};\n\nheaders = {\n    \"Authorization\": \"Bearer \" + msg.payload.access_token\n};\n\nmsg.headers = headers;\nmsg.method = \"POST\";\nmsg.url = url;\n\nreturn msg;","outputs":1,"noerr":0,"x":680,"y":500,"wires":[["d8b12aa2.382e68"]]},{"id":"d8b12aa2.382e68","type":"http request","z":"452a748d.6197dc","name":"","method":"use","ret":"txt","paytoqs":false,"url":"","tls":"","persist":false,"proxy":"","authType":"","x":950,"y":540,"wires":[["693f570d.e08908"]]},{"id":"4ee78ca4.538bb4","type":"inject","z":"452a748d.6197dc","name":"","topic":"Create","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":110,"y":160,"wires":[["596d9d91.600da4"]]},{"id":"2b0e11fb.186fce","type":"comment","z":"452a748d.6197dc","name":"Initializing Retrieve Request","info":"","x":140,"y":40,"wires":[]},{"id":"fe3066a0.9253a8","type":"function","z":"452a748d.6197dc","name":"API Parameter Setting","func":"url = \"https://ap5.salesforce.com/services/data/v49.0/sobjects/customers__c/a0C7F00000Q7RWyUAN\";\n\nheaders = {\n    \"Authorization\": \"Bearer \" + msg.payload.access_token\n};\n\nmsg.payload = {\n    \"Name\": \"Project Ignite\",\n    \"id__c\": 5,\n    \"age__c\": 24,\n    \"name__c\": \"ravi sharma\",\n    \"email__c\": \"ravi.sharma@cygrp.com\"\n};\n\nmsg.headers = headers;\nmsg.method = \"PATCH\";\nmsg.url = url;\n\nreturn msg;","outputs":1,"noerr":0,"x":680,"y":540,"wires":[["d8b12aa2.382e68"]]},{"id":"6414ae1d.f8b79","type":"comment","z":"452a748d.6197dc","name":"access token request","info":"","x":380,"y":320,"wires":[]},{"id":"4d433377.eaddac","type":"comment","z":"452a748d.6197dc","name":"access token request parameters setting","info":"","x":440,"y":160,"wires":[]},{"id":"9f2ddd5c.80faf","type":"comment","z":"452a748d.6197dc","name":"salesforce api action request setting","info":"Salesforce Rest API setting on the basis of topic","x":680,"y":420,"wires":[]},{"id":"bbf50c64.f2383","type":"comment","z":"452a748d.6197dc","name":"salesforce Rest API request","info":"","x":960,"y":420,"wires":[]},{"id":"5da814f5.a36bfc","type":"comment","z":"452a748d.6197dc","name":"Logging Output","info":"","x":1160,"y":460,"wires":[]},{"id":"3568b360.d39cbc","type":"comment","z":"452a748d.6197dc","name":"Initializing Create Request","info":"","x":130,"y":120,"wires":[]},{"id":"d822b964.ba0158","type":"switch","z":"452a748d.6197dc","name":"Retrieve, Create, Update, Delete","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"Retrieve","vt":"str"},{"t":"eq","v":"Create","vt":"str"},{"t":"eq","v":"Update","vt":"str"},{"t":"eq","v":"Delete","vt":"str"}],"checkall":"false","repair":false,"outputs":4,"x":390,"y":520,"wires":[["3a9ff880.cf9458"],["19ebbf19.dae3f1"],["fe3066a0.9253a8"],["68c31ca8.d55e24"]]},{"id":"89ac5085.7aca3","type":"comment","z":"452a748d.6197dc","name":"Initializing Update Request","info":"","x":130,"y":200,"wires":[]},{"id":"bab33df5.18b5a","type":"comment","z":"452a748d.6197dc","name":"Initializing Delete Request","info":"","x":130,"y":280,"wires":[]},{"id":"392df1cb.c2a50e","type":"comment","z":"452a748d.6197dc","name":"Routing Request based on topic","info":"","x":390,"y":580,"wires":[]},{"id":"7f179dad.a76874","type":"comment","z":"452a748d.6197dc","name":"Help Text on Getting Started","info":"1. we have a custom object customers__c inside salesforce with couple of fields like name, email, id, age etc...\n\n2. This is the object we will be performing our CRUD Operations on.\n\n3.  FOr salesforce cosnfiguration you will be needing a connected app to generate credentials like, consumer key, consumer secret callback uri etc...","x":960,"y":120,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:48:56.004Z","isactive":true},{"id":5,"tabId":"Salesforce","tabTitle":"Salesforce","title":"Salesforce CRM CRUD Operations - Ignite Salesforce Nodes","body":"This flow demonstrates Salesforce CRM CRUD Operations using Ignite Salesforce Nodes with minimal functionality.","flow":[{"id":"73e7a09b.1e681","type":"soql","z":"17690233.ab769e","name":"","query":"SELECT id, id__c, name__c, email__c, age__c FROM customers__c","connection":"","fetchAll":true,"returnJSON":true,"x":550,"y":180,"wires":[["c734f7b7.2f5d08"]]},{"id":"6fa81016.dd59b","type":"dml","z":"17690233.ab769e","name":"","object":"customers__c","action":"insert","connection":"","x":650,"y":320,"wires":[["ec0e6fe1.ad8dc"]]},{"id":"c734f7b7.2f5d08","type":"debug","z":"17690233.ab769e","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":890,"y":180,"wires":[]},{"id":"28541302.68ed9c","type":"inject","z":"17690233.ab769e","name":"","topic":"Retrieve","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":240,"y":180,"wires":[["73e7a09b.1e681"]]},{"id":"12df7bfc.6cf264","type":"inject","z":"17690233.ab769e","name":"","topic":"Create","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":230,"y":320,"wires":[["8e36aed6.dadac"]]},{"id":"8e36aed6.dadac","type":"function","z":"17690233.ab769e","name":"request setting","func":"msg.payload = {\n    \"Name\": 5,\n    \"id__c\": 5,\n    \"age__c\": 23,\n    \"name__c\": \"ravi sharma\",\n    \"email__c\": \"ravi.sharma@cygrp.com\"\n}\nreturn msg;","outputs":1,"noerr":0,"x":440,"y":320,"wires":[["6fa81016.dd59b"]]},{"id":"e12c2df8.bbad4","type":"dml","z":"17690233.ab769e","name":"","object":"customers__c","action":"delete","connection":"","x":650,"y":600,"wires":[["8ff27093.5f87b"]]},{"id":"278e967f.38987a","type":"inject","z":"17690233.ab769e","name":"","topic":"Delete","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":230,"y":600,"wires":[["98c182bd.2df34"]]},{"id":"98c182bd.2df34","type":"function","z":"17690233.ab769e","name":"request setting","func":"msg.payload = {\n    \"id\": \"a0C7F00000Q7OnEUAV\"\n}\nreturn msg;","outputs":1,"noerr":0,"x":440,"y":600,"wires":[["e12c2df8.bbad4"]]},{"id":"a5f42235.d0dec","type":"dml","z":"17690233.ab769e","name":"","object":"customers__c","action":"update","connection":"","x":650,"y":460,"wires":[["2a8bc12f.5c4a2e"]]},{"id":"cb5d87ed.051618","type":"inject","z":"17690233.ab769e","name":"","topic":"Update","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":230,"y":460,"wires":[["e8e8dd0c.99b68"]]},{"id":"e8e8dd0c.99b68","type":"function","z":"17690233.ab769e","name":"request setting","func":"msg.payload = {\n    \"id\": \"a0C7F00000Q7OnEUAV\",\n    \"Name\": 8,\n    \"id__c\": 8,\n    \"age__c\": 24,\n    \"name__c\": \"ravi sharma\",\n    \"email__c\": \"ravi.sharma@cygrp.com\"\n}\nreturn msg;","outputs":1,"noerr":0,"x":440,"y":460,"wires":[["a5f42235.d0dec"]]},{"id":"ec0e6fe1.ad8dc","type":"debug","z":"17690233.ab769e","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":890,"y":320,"wires":[]},{"id":"2a8bc12f.5c4a2e","type":"debug","z":"17690233.ab769e","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":890,"y":460,"wires":[]},{"id":"8ff27093.5f87b","type":"debug","z":"17690233.ab769e","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","x":890,"y":600,"wires":[]},{"id":"dacc7864.817398","type":"comment","z":"17690233.ab769e","name":"setting request parameters","info":"","x":430,"y":420,"wires":[]},{"id":"5c744439.38494c","type":"comment","z":"17690233.ab769e","name":"Initializing flow","info":"","x":230,"y":560,"wires":[]},{"id":"383417bf.ab0698","type":"comment","z":"17690233.ab769e","name":"setting request parameters","info":"","x":430,"y":560,"wires":[]},{"id":"9f20adc.5ae4d5","type":"comment","z":"17690233.ab769e","name":"Salesforce Configuration","info":"Salesforce","x":670,"y":560,"wires":[]},{"id":"d6cad3ce.42e1c","type":"comment","z":"17690233.ab769e","name":"Logging Output","info":"","x":880,"y":560,"wires":[]},{"id":"e9585cf5.3e87f","type":"comment","z":"17690233.ab769e","name":"Initializing flow","info":"","x":230,"y":420,"wires":[]},{"id":"f296911f.2841b","type":"comment","z":"17690233.ab769e","name":"Initializing flow","info":"","x":230,"y":280,"wires":[]},{"id":"2a7fc264.3784de","type":"comment","z":"17690233.ab769e","name":"Initializing flow","info":"","x":230,"y":140,"wires":[]},{"id":"b93e9a7.ea19568","type":"comment","z":"17690233.ab769e","name":"setting request parameters","info":"","x":430,"y":280,"wires":[]},{"id":"f095c96a.7ce468","type":"comment","z":"17690233.ab769e","name":"Salesforce Configuration","info":"Salesforce","x":670,"y":420,"wires":[]},{"id":"8382c887.258c08","type":"comment","z":"17690233.ab769e","name":"Salesforce Configuration","info":"Salesforce","x":670,"y":280,"wires":[]},{"id":"16d84acc.880cc5","type":"comment","z":"17690233.ab769e","name":"Logging Output","info":"","x":880,"y":280,"wires":[]},{"id":"5f50d22.599672c","type":"comment","z":"17690233.ab769e","name":"Logging Output","info":"","x":880,"y":420,"wires":[]},{"id":"f89947d7.6f7a08","type":"comment","z":"17690233.ab769e","name":"Salesforce Configuration & Query","info":"","x":550,"y":140,"wires":[]},{"id":"fdfb03cb.504ee","type":"comment","z":"17690233.ab769e","name":"Logging Output","info":"","x":880,"y":140,"wires":[]},{"id":"61c61699.800048","type":"comment","z":"17690233.ab769e","name":"Help Text on Getting Started","info":"1. we have a custom object customers__c inside salesforce with couple of fields like name, email, id, age etc...\n\n2. This is the object we will be performing our CRUD Operations on.\n\n3.  FOr salesforce cosnfiguration you will be needing a connected app to generate credentials like, consumer key, consumer secret callback uri etc...","x":540,"y":40,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:48:56.004Z","isactive":true},{"id":13,"tabId":"Tableau","tabTitle":"Tableau","title":"Simple Web Data Connector","body":"Sample flow on how to connect to Ignite via a Web Data Connector from Tableau.","flow":[{"id":"b4d27484.77e868","type":"http in","z":"d3e568e6.467578","name":"","url":"/wdcHeroes","method":"get","upload":false,"swaggerDoc":"","x":180,"y":500,"wires":[["f224c3a4.43a38"]]},{"id":"fc994c70.7544b","type":"http in","z":"d3e568e6.467578","name":"","url":"/examples/marvelHeroes.js","method":"get","upload":false,"swaggerDoc":"","x":230,"y":580,"wires":[["493dc498.e1b5ac"]]},{"id":"493dc498.e1b5ac","type":"template","z":"d3e568e6.467578","name":"","field":"payload","fieldType":"msg","format":"javascript","syntax":"plain","template":"(function() {\n    // Create the connector object\n    var myConnector = tableau.makeConnector();\n\n    // Define the schema\n    myConnector.getSchema = function(schemaCallback) {\n        var properties = [{\n            id: \"id\",\n            alias: \"HeroId\",\n            dataType: tableau.dataTypeEnum.int\n        }, {\n            id: \"name\",\n            alias: \"FullName\",\n            dataType: tableau.dataTypeEnum.string\n        }, {\n            id: \"comicname\",\n            alias: \"ComicName\",\n            dataType: tableau.dataTypeEnum.string\n        }, {\n            id: \"wealth\",\n            alias: \"CurrentWealth\",\n            dataType: tableau.dataTypeEnum.float\n        }];\n\n        var tableInfo = {\n            id: \"Marvel_Heroes\",\n            alias: \"List of famous Marvel Heroes\",\n            columns: properties\n        };\n        schemaCallback([tableInfo]);\n    };\n\n    // Download the data\n    myConnector.getData = function(table, doneCallback) {\n        // $.getJSON(\"url\", function(...","output":"str","x":700,"y":580,"wires":[["8f70bc69.445d"]]},{"id":"f224c3a4.43a38","type":"template","z":"d3e568e6.467578","name":"HTML","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<html>\n<head>\n    <title>Runtime Users Data</title>\n    <meta http-equiv=\"Cache-Control\" content=\"no-store\" />\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7\" crossorigin=\"anonymous\">\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\" type=\"text/javascript\"></script>\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\" integrity=\"sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS\" crossorigin=\"anonymous\"></script>\n\n    <script src=\"https://connectors.tableau.com/libs/tableauwdc-2.3.latest.js\" type=\"text/javascript\"></script>\n    <script src=\"/examples/marvelHeroes.js\" type=\"text/javascript\"></script>\n</head>\n\n<body>\n    <div class=\"container container-table\">\n        <div class=\"row vertical-center-row\">\n            <div class=\"text-center col-md-4 col-md-offset...","output":"str","x":690,"y":500,"wires":[["8f70bc69.445d"]]},{"id":"8f70bc69.445d","type":"http response","z":"d3e568e6.467578","name":"","statusCode":"","headers":{},"x":1150,"y":540,"wires":[]},{"id":"a5f0e10f.198b9","type":"comment","z":"d3e568e6.467578","name":"Endpoint url for Web Data Connector Service","info":"","x":270,"y":460,"wires":[]},{"id":"98236f8a.25318","type":"comment","z":"d3e568e6.467578","name":"Serves as an Interface to let user interact","info":"","x":720,"y":460,"wires":[]},{"id":"e48befdb.9d959","type":"comment","z":"d3e568e6.467578","name":"creates and Returns a Tableau WDC Object with data on form submit","info":"","x":720,"y":620,"wires":[]},{"id":"1f5de914.4125f7","type":"comment","z":"d3e568e6.467578","name":"script url for js file","info":"","x":180,"y":620,"wires":[]},{"id":"8d596f7b.1db66","type":"comment","z":"d3e568e6.467578","name":"Sends the response back to the client","info":"","x":1130,"y":500,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:59:46.759Z","isactive":true},{"id":14,"tabId":"Tableau","tabTitle":"Tableau","title":"Single Source Web Data Connector with REST API","body":"Sample flow on how to sync data between Ignite & Tableau from an API source using Web Data Connector.","flow":[{"id":"5d09685d.488018","type":"http in","z":"592f1d39.af86f4","name":"","url":"/wdcHeroes","method":"get","upload":false,"swaggerDoc":"","x":180,"y":160,"wires":[["7ab5c406.15413c"]]},{"id":"ee921dd5.7a434","type":"http in","z":"592f1d39.af86f4","name":"","url":"/examples/marvelHeroes.js","method":"get","upload":false,"swaggerDoc":"","x":230,"y":240,"wires":[["96e01e4b.5f844"]]},{"id":"96e01e4b.5f844","type":"template","z":"592f1d39.af86f4","name":"","field":"payload","fieldType":"msg","format":"javascript","syntax":"plain","template":"(function() {\n    // Create the connector object\n    var myConnector = tableau.makeConnector();\n\n    // Define the schema\n    myConnector.getSchema = function(schemaCallback) {\n        var properties = [{\n            id: \"id\",\n            alias: \"HeroId\",\n            dataType: tableau.dataTypeEnum.int\n        }, {\n            id: \"name\",\n            alias: \"FullName\",\n            dataType: tableau.dataTypeEnum.string\n        }, {\n            id: \"comicname\",\n            alias: \"ComicName\",\n            dataType: tableau.dataTypeEnum.string\n        }, {\n            id: \"wealth\",\n            alias: \"CurrentWealth\",\n            dataType: tableau.dataTypeEnum.float\n        }];\n\n        var tableInfo = {\n            id: \"Marvel_Heroes\",\n            alias: \"List of famous Marvel Heroes\",\n            columns: properties\n        };\n        schemaCallback([tableInfo]);\n    };\n\n    // Download the data\n    myConnector.getData = function(table, doneCallback) {\n        $.getJSON(\"/heroes\", function...","output":"str","x":700,"y":240,"wires":[["28084389.93d79c"]]},{"id":"7ab5c406.15413c","type":"template","z":"592f1d39.af86f4","name":"HTML","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<html>\n<head>\n    <title>Runtime Users Data</title>\n    <meta http-equiv=\"Cache-Control\" content=\"no-store\" />\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7\" crossorigin=\"anonymous\">\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\" type=\"text/javascript\"></script>\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\" integrity=\"sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS\" crossorigin=\"anonymous\"></script>\n\n    <script src=\"https://connectors.tableau.com/libs/tableauwdc-2.3.latest.js\" type=\"text/javascript\"></script>\n    <script src=\"/examples/marvelHeroes.js\" type=\"text/javascript\"></script>\n</head>\n\n<body>\n    <div class=\"container container-table\">\n        <div class=\"row vertical-center-row\">\n            <div class=\"text-center col-md-4 col-md-offset...","output":"str","x":690,"y":160,"wires":[["28084389.93d79c"]]},{"id":"28084389.93d79c","type":"http response","z":"592f1d39.af86f4","name":"","statusCode":"","headers":{},"x":1150,"y":200,"wires":[]},{"id":"6bc4a6.ac692b5c","type":"comment","z":"592f1d39.af86f4","name":"Endpoint url for Web Data Connector Service","info":"","x":270,"y":120,"wires":[]},{"id":"b32fa936.e544a8","type":"comment","z":"592f1d39.af86f4","name":"Serves as an Interface to let user interact","info":"","x":720,"y":120,"wires":[]},{"id":"b97f5614.bd44b8","type":"comment","z":"592f1d39.af86f4","name":"creates and Returns a Tableau WDC Object with data on form submit","info":"","x":720,"y":280,"wires":[]},{"id":"e779015e.566c6","type":"comment","z":"592f1d39.af86f4","name":"Sends the response back to the client","info":"","x":1130,"y":160,"wires":[]},{"id":"63eed024.2e27f","type":"http response","z":"592f1d39.af86f4","name":"","statusCode":"","headers":{},"x":1150,"y":460,"wires":[]},{"id":"8bb15ce9.aff2","type":"function","z":"592f1d39.af86f4","name":"seting Heroes Data as payload","func":"msg.payload = [\n                        {\n                            \"id\": 1,\n                            \"name\": \"Scott Lang\",\n                            \"comicname\": \"Ant-Man\",\n                            \"wealth\": 1000\n                        },\n                        {\n                            \"id\": 2,\n                            \"name\": \"Tony Stark\",\n                            \"comicname\": \"Iron Man\",\n                            \"wealth\": 2000\n                        },\n                        {\n                            \"id\": 3,\n                            \"name\": \"Bruce Banner\",\n                            \"comicname\": \"Hulk\",\n                            \"wealth\": 3000\n                        },\n                        {\n                            \"id\": 4,\n                            \"name\": \"Peter Parker\",\n                            \"comicname\": \"Spider Man\",\n                            \"wealth\": 4000\n                        },\n                        {\n             ...","outputs":1,"noerr":0,"x":690,"y":460,"wires":[["63eed024.2e27f"]]},{"id":"dae2b865.9f9e88","type":"http in","z":"592f1d39.af86f4","name":"","url":"/heroes","method":"get","upload":false,"swaggerDoc":"","x":170,"y":460,"wires":[["8bb15ce9.aff2"]]},{"id":"5f6cc002.069a6","type":"comment","z":"592f1d39.af86f4","name":"Endpoint for API that will get us data","info":"","x":240,"y":420,"wires":[]},{"id":"b04ced2b.0f455","type":"comment","z":"592f1d39.af86f4","name":"Sending the response back to the client","info":"","x":1130,"y":420,"wires":[]},{"id":"9adfee66.2cdd5","type":"comment","z":"592f1d39.af86f4","name":"Serving desired data as payload, perform any tranformation here","info":"","x":690,"y":420,"wires":[]},{"id":"74b4d887.678e18","type":"comment","z":"592f1d39.af86f4","name":"url for js file that contains tablue connector object","info":"","x":280,"y":280,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:59:46.759Z","isactive":true},{"id":15,"tabId":"Tableau","tabTitle":"Tableau","title":"Web Data Connector with Ignite-Sequelize","body":"Sample flow on how to sync data between Ignite & Tableau from a database source using Ignite-Sequlize node.","flow":[{"id":"89904de6.7f74a","type":"http in","z":"e6b8a712.77bb88","name":"","url":"/wdcHeroes","method":"get","upload":false,"swaggerDoc":"","x":180,"y":160,"wires":[["c3fab593.c51798"]]},{"id":"4e0ab2b8.1f35dc","type":"http in","z":"e6b8a712.77bb88","name":"","url":"/examples/marvelHeroes.js","method":"get","upload":false,"swaggerDoc":"","x":230,"y":240,"wires":[["44348b08.17fa84"]]},{"id":"44348b08.17fa84","type":"template","z":"e6b8a712.77bb88","name":"","field":"payload","fieldType":"msg","format":"javascript","syntax":"plain","template":"(function() {\n    // Create the connector object\n    var myConnector = tableau.makeConnector();\n\n    // Define the schema\n    myConnector.getSchema = function(schemaCallback) {\n        var properties = [{\n            id: \"id\",\n            alias: \"HeroId\",\n            dataType: tableau.dataTypeEnum.int\n        }, {\n            id: \"name\",\n            alias: \"FullName\",\n            dataType: tableau.dataTypeEnum.string\n        }, {\n            id: \"comicname\",\n            alias: \"ComicName\",\n            dataType: tableau.dataTypeEnum.string\n        }, {\n            id: \"wealth\",\n            alias: \"CurrentWealth\",\n            dataType: tableau.dataTypeEnum.float\n        }];\n\n        var tableInfo = {\n            id: \"Marvel_Heroes\",\n            alias: \"List of famous Marvel Heroes\",\n            columns: properties\n        };\n        schemaCallback([tableInfo]);\n    };\n\n    // Download the data\n    myConnector.getData = function(table, doneCallback) {\n        $.getJSON(\"/heroes\", function...","output":"str","x":700,"y":240,"wires":[["4f75a592.283bfc"]]},{"id":"c3fab593.c51798","type":"template","z":"e6b8a712.77bb88","name":"HTML","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<html>\n<head>\n    <title>Runtime Users Data</title>\n    <meta http-equiv=\"Cache-Control\" content=\"no-store\" />\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7\" crossorigin=\"anonymous\">\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\" type=\"text/javascript\"></script>\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\" integrity=\"sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS\" crossorigin=\"anonymous\"></script>\n\n    <script src=\"https://connectors.tableau.com/libs/tableauwdc-2.3.latest.js\" type=\"text/javascript\"></script>\n    <script src=\"/examples/marvelHeroes.js\" type=\"text/javascript\"></script>\n</head>\n\n<body>\n    <div class=\"container container-table\">\n        <div class=\"row vertical-center-row\">\n            <div class=\"text-center col-md-4 col-md-offset...","output":"str","x":690,"y":160,"wires":[["4f75a592.283bfc"]]},{"id":"4f75a592.283bfc","type":"http response","z":"e6b8a712.77bb88","name":"","statusCode":"","headers":{},"x":1150,"y":200,"wires":[]},{"id":"d024a6b9.87bd28","type":"comment","z":"e6b8a712.77bb88","name":"Endpoint url for Web Data Connector Service","info":"","x":270,"y":120,"wires":[]},{"id":"21b91d7e.aeea72","type":"comment","z":"e6b8a712.77bb88","name":"Serves as an Interface to let user interact","info":"","x":680,"y":120,"wires":[]},{"id":"75144109.9defd","type":"comment","z":"e6b8a712.77bb88","name":"creates and Returns a Tableau WDC Object with data on form submit","info":"","x":720,"y":280,"wires":[]},{"id":"26da521e.d06fae","type":"comment","z":"e6b8a712.77bb88","name":"Sends the response back to the client","info":"","x":1130,"y":160,"wires":[]},{"id":"269d8abb.bdf106","type":"http response","z":"e6b8a712.77bb88","name":"","statusCode":"","headers":{},"x":1150,"y":460,"wires":[]},{"id":"635168c6.ca0f28","type":"function","z":"e6b8a712.77bb88","name":"setting Heroes Data as payload","func":"msg.payload = msg.payload[0];\nreturn msg;","outputs":1,"noerr":0,"x":810,"y":460,"wires":[["269d8abb.bdf106"]]},{"id":"47adba05.7b4744","type":"http in","z":"e6b8a712.77bb88","name":"","url":"/heroes","method":"get","upload":false,"swaggerDoc":"","x":170,"y":460,"wires":[["3c13e0a3.016f8"]]},{"id":"8fe2e552.e1ad48","type":"comment","z":"e6b8a712.77bb88","name":"Endpoint for API that will get us data","info":"","x":240,"y":420,"wires":[]},{"id":"d3565ba4.6283b8","type":"comment","z":"e6b8a712.77bb88","name":"Loading/Sending the response back to the client","info":"","x":1160,"y":420,"wires":[]},{"id":"3c13e0a3.016f8","type":"sequelize","z":"e6b8a712.77bb88","name":"","usepayload":false,"query":"SELECT detailvalue FROM Heores where detailname = \"wdcHeroes\" isactive =true;","database":"","output":true,"outputs":1,"x":520,"y":460,"wires":[["635168c6.ca0f28"]]},{"id":"e71ceaf4.147788","type":"comment","z":"e6b8a712.77bb88","name":"Extracting Data from DB","info":"We have json stored inside a column called detailvalue which is unique to the detailname column.\nWe will be selecting detailvalue from examples table for wdcHeroes value in detailname\n\n\nInside Sequelize node replace double quotes in query with single quotes.","x":530,"y":420,"wires":[]},{"id":"882a8bfa.3963b8","type":"comment","z":"e6b8a712.77bb88","name":"Transforimg Data as per Needs","info":"","x":810,"y":420,"wires":[]},{"id":"21671a3a.ad5cd6","type":"comment","z":"e6b8a712.77bb88","name":"url for js file that contains tablue connector object","info":"","x":280,"y":280,"wires":[]},{"id":"8656e83d.08b438","type":"comment","z":"e6b8a712.77bb88","name":"DDL Script for sample database table","info":"we have data stored as a json inside detailvalue column which is different for every detailname\n\n\n-- public.Heores definition\n\n-- Drop table\n\n-- DROP TABLE Heores;\n\nCREATE TABLE Heores (\n\tid serial NOT NULL,\n\tdetailname varchar(50) NOT NULL,\n\tdetailvalue json NOT NULL,\n\tisactive bool NULL,\n\tCONSTRAINT examples_pkey PRIMARY KEY (id)\n);","x":530,"y":380,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:59:46.759Z","isactive":true},{"id":16,"tabId":"Tableau","tabTitle":"Tableau","title":"Web Data Connector with Ignite-Sequelize and REST API","body":"Sample flow on how to sync data between Ignite & Tableau from an API & database source using Ignite-Sequlize node.","flow":[{"id":"68c4718.499409","type":"http in","z":"b7f954f5.83b728","name":"","url":"/wdcHeroes","method":"get","upload":false,"swaggerDoc":"","x":180,"y":160,"wires":[["aafbff37.8110e"]]},{"id":"765b1d8e.e65284","type":"http in","z":"b7f954f5.83b728","name":"","url":"/examples/marvelHeroes.js","method":"get","upload":false,"swaggerDoc":"","x":230,"y":240,"wires":[["4736fc70.7c0604"]]},{"id":"4736fc70.7c0604","type":"template","z":"b7f954f5.83b728","name":"","field":"payload","fieldType":"msg","format":"javascript","syntax":"plain","template":"(function() {\n    // Create the connector object\n    var myConnector = tableau.makeConnector();\n\n    // Define the schema\n    myConnector.getSchema = function(schemaCallback) {\n        var properties = [{\n            id: \"id\",\n            alias: \"HeroId\",\n            dataType: tableau.dataTypeEnum.int\n        }, {\n            id: \"name\",\n            alias: \"FullName\",\n            dataType: tableau.dataTypeEnum.string\n        }, {\n            id: \"comicname\",\n            alias: \"ComicName\",\n            dataType: tableau.dataTypeEnum.string\n        }, {\n            id: \"wealth\",\n            alias: \"CurrentWealth\",\n            dataType: tableau.dataTypeEnum.float\n        }];\n\n        var tableInfo = {\n            id: \"Marvel_Heroes\",\n            alias: \"List of famous Marvel Heroes\",\n            columns: properties\n        };\n        schemaCallback([tableInfo]);\n    };\n\n    // Download the data\n    myConnector.getData = function(table, doneCallback) {\n        $.getJSON(\"/heroes\", function...","output":"str","x":700,"y":240,"wires":[["311ff7ba.73e458"]]},{"id":"aafbff37.8110e","type":"template","z":"b7f954f5.83b728","name":"HTML","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<html>\n<head>\n    <title>Runtime Users Data</title>\n    <meta http-equiv=\"Cache-Control\" content=\"no-store\" />\n\n    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7\" crossorigin=\"anonymous\">\n    <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\" type=\"text/javascript\"></script>\n    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\" integrity=\"sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS\" crossorigin=\"anonymous\"></script>\n\n    <script src=\"https://connectors.tableau.com/libs/tableauwdc-2.3.latest.js\" type=\"text/javascript\"></script>\n    <script src=\"/examples/marvelHeroes.js\" type=\"text/javascript\"></script>\n</head>\n\n<body>\n    <div class=\"container container-table\">\n        <div class=\"row vertical-center-row\">\n            <div class=\"text-center col-md-4 col-md-offset...","output":"str","x":690,"y":160,"wires":[["311ff7ba.73e458"]]},{"id":"311ff7ba.73e458","type":"http response","z":"b7f954f5.83b728","name":"","statusCode":"","headers":{},"x":1150,"y":200,"wires":[]},{"id":"6be7e3e0.9b653c","type":"comment","z":"b7f954f5.83b728","name":"Endpoint url for Web Data Connector Service","info":"","x":270,"y":120,"wires":[]},{"id":"4d6cae2f.dbc17","type":"comment","z":"b7f954f5.83b728","name":"Serves as an Interface to let user interact","info":"","x":720,"y":120,"wires":[]},{"id":"7396dcaa.c76d84","type":"comment","z":"b7f954f5.83b728","name":"creates and Returns a Tableau WDC Object with data on form submit","info":"","x":720,"y":280,"wires":[]},{"id":"fd31a63.431be58","type":"comment","z":"b7f954f5.83b728","name":"url for js file that contains tablue connector object","info":"","x":280,"y":280,"wires":[]},{"id":"58421448.b7972c","type":"comment","z":"b7f954f5.83b728","name":"Sends the response back to the client","info":"","x":1130,"y":160,"wires":[]},{"id":"e169c16e.105f7","type":"http response","z":"b7f954f5.83b728","name":"","statusCode":"","headers":{},"x":1150,"y":580,"wires":[]},{"id":"7bf05b86.3bb3b4","type":"function","z":"b7f954f5.83b728","name":"Getting First five heroes from db","func":"msg.payload = msg.payload[0];\nmsg.firstbatch = msg.payload.slice(0,5)\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":460,"wires":[["99216e94.a7c2d"]]},{"id":"ffa244ca.778498","type":"http in","z":"b7f954f5.83b728","name":"","url":"/heroes","method":"get","upload":false,"swaggerDoc":"","x":170,"y":460,"wires":[["f95dbf2f.79518"]]},{"id":"fa5942fc.1be6","type":"comment","z":"b7f954f5.83b728","name":"Endpoint for API that will get us data","info":"","x":240,"y":420,"wires":[]},{"id":"94bd9d22.f876","type":"comment","z":"b7f954f5.83b728","name":"Loading/Sending the response back to the client","info":"","x":1140,"y":540,"wires":[]},{"id":"f95dbf2f.79518","type":"sequelize","z":"b7f954f5.83b728","name":"","usepayload":false,"query":"SELECT detailvalue FROM Heores where detailname = \"wdcHeroes\" isactive =true;","database":"","output":true,"outputs":1,"x":500,"y":460,"wires":[["7bf05b86.3bb3b4"]]},{"id":"b2315dbf.f0619","type":"comment","z":"b7f954f5.83b728","name":"Extracting Data from DB","info":"We have json stored inside a column called detailvalue which is unique to the detailname column.\nWe will be selecting detailvalue from examples table for wdcHeroes value in detailname\n\n\nInside Sequelize node replace double quotes in query with single quotes.","x":510,"y":420,"wires":[]},{"id":"3f2db0e9.43c21","type":"comment","z":"b7f954f5.83b728","name":"Transforimg Data as per Needs","info":"","x":770,"y":420,"wires":[]},{"id":"f686dec3.40149","type":"http response","z":"b7f954f5.83b728","name":"","statusCode":"","headers":{},"x":1150,"y":720,"wires":[]},{"id":"a8a943d5.3f439","type":"function","z":"b7f954f5.83b728","name":"seting Heroes Data as payload","func":"msg.payload = [\n                        {\n                            \"id\": 6,\n                            \"name\": \"Doctor Strange\",\n                            \"comicname\": \"Doctor Strange\",\n                            \"wealth\": 6000\n                        },\n                        {\n                            \"id\": 7,\n                            \"name\": \"Steve Rogers\",\n                            \"comicname\": \"Captain America\",\n                            \"wealth\": 7000\n                        },\n                        {\n                            \"id\": 8,\n                            \"name\": \"Thor Odin\",\n                            \"comicname\": \"Thor\",\n                            \"wealth\": 8000\n                        },\n                        {\n                            \"id\": 9,\n                            \"name\": \"Wade Winston Wilson\",\n                            \"comicname\": \"Dead Pool\",\n                            \"wealth\": 9000\n                        },\n                ...","outputs":1,"noerr":0,"x":690,"y":720,"wires":[["f686dec3.40149"]]},{"id":"d977eb0e.d73a58","type":"http in","z":"b7f954f5.83b728","name":"","url":"/heroes/secondbatch","method":"get","upload":false,"swaggerDoc":"","x":210,"y":720,"wires":[["a8a943d5.3f439"]]},{"id":"df7c2f9.44ae2d","type":"comment","z":"b7f954f5.83b728","name":"Endpoint to get other heroes","info":"","x":220,"y":680,"wires":[]},{"id":"79dc9d5b.3fe134","type":"comment","z":"b7f954f5.83b728","name":"Sending the response back to the client","info":"","x":1130,"y":680,"wires":[]},{"id":"5ac1105e.7a2ad","type":"comment","z":"b7f954f5.83b728","name":"Serving desired data as payload, perform any tranformation here","info":"","x":690,"y":680,"wires":[]},{"id":"99216e94.a7c2d","type":"http request","z":"b7f954f5.83b728","name":"","method":"GET","ret":"obj","paytoqs":false,"url":"/secondbatch","tls":"","persist":false,"proxy":"","authType":"","x":1130,"y":460,"wires":[["2bf3ec95.08aa74"]]},{"id":"f205d16c.6d25","type":"function","z":"b7f954f5.83b728","name":"Getting other 5 heroes from API","func":"msg.payload = [];\n//adding both batches of heroes to payload\n//for performance and effieciency you can use use lodash or underscore\nfor(var i in msg.firstbatch){\n    msg.payload.push(msg.firstbatch[i])\n}\nfor(var j in msg.secondbatch){\n    msg.payload.push(msg.secondbatch[j])\n}\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":580,"wires":[["e169c16e.105f7"]]},{"id":"2bf3ec95.08aa74","type":"function","z":"b7f954f5.83b728","name":"Extracting other five heroes from response","func":"msg.secondbatch = msg.payload;\n//emptying payload just to ensure we have no data left in payload\nmsg.payload = null;\nreturn msg;","outputs":1,"noerr":0,"x":310,"y":580,"wires":[["f205d16c.6d25"]]},{"id":"15e627a2.095588","type":"comment","z":"b7f954f5.83b728","name":"making API call to get the second batch of Heroes","info":"","x":1140,"y":420,"wires":[]},{"id":"4c93c6f7.e41578","type":"comment","z":"b7f954f5.83b728","name":"Extracting userful detail, transforming response from API","info":"","x":300,"y":540,"wires":[]},{"id":"9fdd1322.67b7f","type":"comment","z":"b7f954f5.83b728","name":"creating final data merging datasets","info":"","x":760,"y":540,"wires":[]},{"id":"ff6b4433.9ff088","type":"comment","z":"b7f954f5.83b728","name":"DDL Script for sample database table","info":"we have data stored as a json inside detailvalue column which is different for every detailname\n\n\n-- public.Heores definition\n\n-- Drop table\n\n-- DROP TABLE Heores;\n\nCREATE TABLE Heores (\n\tid serial NOT NULL,\n\tdetailname varchar(50) NOT NULL,\n\tdetailvalue json NOT NULL,\n\tisactive bool NULL,\n\tCONSTRAINT examples_pkey PRIMARY KEY (id)\n);","x":510,"y":380,"wires":[]}],"catalog_version":"v2","updated_at":"2020-12-05T02:59:46.759Z","isactive":true}]
for i in a :
    
    print(i)